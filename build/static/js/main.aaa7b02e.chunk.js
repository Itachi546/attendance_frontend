(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e){t.exports.url="http://localhost:3001/"},183:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),o=(a(81),a(4)),l=a(5),i=a(7),u=a(6),h=a(8),m=a(2),d=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isOpen:!1},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"mt-5",style:{backgroundColor:"#EC3545"}},r.a.createElement(m.n,{dark:!0,expand:"md"},r.a.createElement(m.p,{onClick:this.toggleCollapse}),r.a.createElement(m.c,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(m.o,{left:!0},r.a.createElement(m.l,null,r.a.createElement(m.m,{to:"/"},"Home")),r.a.createElement(m.l,null,r.a.createElement(m.m,{to:"/classes"},"Class")),r.a.createElement(m.l,null,r.a.createElement(m.m,{to:"/instructor"},"Instructor")),r.a.createElement(m.l,null,r.a.createElement(m.m,{to:"/batch"},"Batch"))),r.a.createElement(m.o,{right:!0},r.a.createElement(m.l,null,r.a.createElement(m.m,{className:"waves-effect waves-light",to:"/form"},r.a.createElement(m.j,{far:!0,icon:"user",size:"2x"})))))))}}]),e}(n.Component),p=(a(54),function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return this.props.location.pathname.match("/report")?null:r.a.createElement("div",{className:"bg-danger z-depth-2"},r.a.createElement("h1",{className:"mt-2 p-3 d-flex justify-content-center text-white"},"Institute of Engineering"),r.a.createElement("h4",{className:"mt-2 d-flex justify-content-center text-white"},"Pulchowk Campus"),r.a.createElement(d,null))}}]),e}(n.Component)),f=a(29),b=a(22),E=a(11),j=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(c)))).renderTableHeader=function(t){return t.map(function(t,e){return r.a.createElement("th",{key:e},t.toUpperCase())})},a.renderTableData=function(t){return a.props.data.map(function(e,a){return r.a.createElement("tr",{key:a},t.map(function(t,a){return r.a.createElement("td",{key:a},e[t])}))})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return 0===this.props.data.length?r.a.createElement("div",null):r.a.createElement(m.r,{className:"container",striped:!0,bordered:!0,hover:!0,onClick:function(e){var a=e.target.parentNode.rowIndex;a>0&&t.props.onClickRow(a-1)}},r.a.createElement(m.t,{color:"primary-color",textWhite:!0},r.a.createElement("tr",null,this.renderTableHeader(this.props.header))),r.a.createElement(m.s,null,this.renderTableData(this.props.header)))}}]),e}(n.Component),O=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"No record found"))}}]),e}(n.Component),v=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[]},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(E.url+"attendance/getRecent/30").then(function(t){return t.json()}).then(function(e){t.setState({data:e})})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("h3",{className:"text-center mt-4"},"Recents"),0===this.state.data.length?r.a.createElement(O,null):r.a.createElement(j,{data:this.state.data,header:Object.getOwnPropertyNames(this.state.data[0]),onClickRow:function(e){return t.props.onClickRow(t.state.data[e])}}))}}]),e}(n.Component),y=a(19),g=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={value:""},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(m.i,{className:"mt-3"},r.a.createElement(m.k,{type:"text",hint:this.props.placeholder,className:"mr-sm-2",onChange:function(e){t.props.onSearch(e.target.value)}}),r.a.createElement(m.a,{color:"success"},"Search"))}}]),e}(n.Component),C=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[],searchText:""},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(E.url+"instructor").then(function(t){return t.json()}).then(function(e){t.setState({data:e})}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this;return 0===this.state.data.length?r.a.createElement(O,null):r.a.createElement("div",{className:"container-fluid"},r.a.createElement(g,{placeholder:"Search Instructor",onSearch:function(e){t.setState(Object(y.a)({},t.state,{searchText:e}))}}),r.a.createElement("h3",{className:"mt-3 text-center"},"Instructors"),r.a.createElement(j,{header:Object.getOwnPropertyNames(this.state.data[0]),data:this.state.data.filter(function(e){return e.instructor.toUpperCase().startsWith(t.state.searchText.toUpperCase())}),onClickRow:function(e){t.props.onClickRow(t.state.data[e])}}))}}]),e}(n.Component),k=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[],searchText:""},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(E.url+"class").then(function(t){return t.json()}).then(function(e){t.setState({data:e,searchData:e})}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this;return 0===this.state.data.length?r.a.createElement(O,null):r.a.createElement("div",{className:"container-fluid"},r.a.createElement(g,{placeholder:"Search class",onSearch:function(e){t.setState(Object(y.a)({},t.state,{searchText:e}))}}),r.a.createElement("h3",{className:"text-center mt-3"}," Class "),r.a.createElement(j,{header:Object.getOwnPropertyNames(this.state.data[0]),data:this.state.data.filter(function(e){return e.class.toUpperCase().startsWith(t.state.searchText.toUpperCase())}),onClickRow:function(e){t.props.onClickRow(t.state.searchData[e])}}))}}]),e}(n.Component),w=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props.location.state[1],a=this.props.location.state[0];return 0===e.length?r.a.createElement(O,null):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",{className:"text-center mt-3 float"},"SubjectList"),r.a.createElement("div",{className:"d-flex"},Object.getOwnPropertyNames(a).map(function(t,e){return r.a.createElement("h6",{className:"mt-3 ml-3",key:e},t.toUpperCase()," : ",a[t])})),r.a.createElement(j,{header:Object.getOwnPropertyNames(e[0]),data:e,onClickRow:function(n){t.props.onClickRow(Object(y.a)({},e[n],a))}}))}}]),e}(n.Component),N=a(51),S=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(c)))).state={header:[],data:[]},a.renderTableHeader=function(t){return t.map(function(t,e){return r.a.createElement("th",{key:e},t)})},a.renderTableData=function(t,e){return r.a.createElement("tr",{key:e},t.map(function(t,e){return r.a.createElement("td",{key:e},t)}))},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location.state,a=e.class,n=e.subjectCode,r=e.instructor;fetch(E.url+"attendance/all/".concat(a,"/").concat(n,"/").concat(r)).then(function(t){return t.json()}).then(function(e){var a=e[0].date.split(",");return t.setState({header:["ROLL NO","NAME"].concat(Object(N.a)(a),["PRESENT","ABSENT"]),data:e.map(function(t,e){var n=t.status.split(",");return[t.rollNo,t.name].concat(Object(N.a)(n),[t.present,a.length-t.present])}),totalLecture:a.length}),e}).catch(function(t){return console.log(t),t})}},{key:"render",value:function(){var t=this,e=this.props.location.state,a=e.year,n=e.part,c=e.instructor,s=e.subject,o=this.props.location.state.class;return r.a.createElement("div",null,r.a.createElement("h3",{className:"m-3 text-center"}," Attendance Record"),r.a.createElement("h6",{className:"mt-1",style:x}," Instructor: ",c," "),r.a.createElement("div",{className:"d-inline-flex"},r.a.createElement("h6",{className:"float-left mt-1",style:x}," Class: ",o," "),r.a.createElement("h6",{className:"float-left mt-1 ml-3",style:x}," Year: ",a," "),r.a.createElement("h6",{className:"float-left mt-1 ml-3",style:x}," Part: ",n," ")),r.a.createElement("h6",{className:"float-right mt-1",style:x}," Subject: ",s," "),r.a.createElement("h6",{className:"mt-1",style:x}," Total Lecture: ",this.state.totalLecture," "),r.a.createElement(m.r,{striped:!0,bordered:!0,hover:!0,size:"sm",onClick:function(e){var a=e.target.parentNode.rowIndex;if(a>0){var n=t.state.data[a-1];t.props.onClickRow({rollno:n[0],name:n[1]})}}},r.a.createElement(m.t,null,r.a.createElement("tr",null,this.renderTableHeader(this.state.header))),r.a.createElement(m.s,null,this.state.data.map(function(e,a){return t.renderTableData(e,a)}))))}}]),e}(n.Component),x={lineHeight:"15px"},R=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(m.e,null,r.a.createElement(m.h,{caret:!0,color:"primary"},this.props.title),r.a.createElement(m.g,{basic:!0},this.props.data.map(function(e,a){return r.a.createElement(m.f,{onClick:function(){return t.props.onSelect(e)},key:a},e)})))}}]),e}(n.Component),P=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={currentClass:"Select Class",class:[],students:[]},a.handleSelection=function(t){fetch(E.url+"class/students/".concat(t)).then(function(t){return t.json()}).then(function(e){a.setState(Object(y.a)({},a.state,{currentClass:t,students:e}))})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(E.url+"class").then(function(t){return t.json()}).then(function(e){return t.setState(Object(y.a)({},t.state,{class:e.map(function(t){return t.class})})),e}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("p",{className:"mt-3 mb-0"},"Select class to generate student list"),r.a.createElement(R,{onSelect:this.handleSelection,title:this.state.currentClass,data:this.state.class}),this.state.students.length>0?r.a.createElement(j,{header:Object.getOwnPropertyNames(this.state.students[0]),data:this.state.students,onClickRow:function(e){t.props.onClickRow(t.state.students[e])}}):r.a.createElement("div",null))}}]),e}(n.Component),A=a(37),T=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid border border-color-dark mb-3 w-50 h-50"},r.a.createElement(A.a,{width:400,height:400,data:{labels:this.props.label,datasets:this.props.dataset},options:this.props.defaultOptions}))}}]),e}(n.Component);T.defaultProps={defaultOptions:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Attendance on all Subject",fontSize:25},legend:{display:!0,position:"right"},scales:{xAxes:[{barPercentage:1,categoryPercentage:.3}],yAxes:[{ticks:{beginAtZero:!0,stepSize:2}}]}}};var D=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[]},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location.state.rollno;fetch(E.url+"student/".concat(e)).then(function(t){return t.json()}).then(function(e){return t.setState({data:e}),e}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this.props.location.state,e=t.rollno,a=t.name;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"mt-3"},r.a.createElement("b",null,"Roll no: "),e),r.a.createElement("p",{style:I},r.a.createElement("b",null,"Name: "),a)),this.state.data.length>0?r.a.createElement("div",null,r.a.createElement(T,{chartType:"Bar",label:this.state.data.map(function(t){return t.subject}),dataset:[{label:"Total",backgroundColor:"#4285F4",data:this.state.data.map(function(t){return t.totalDay})},{label:"Present",backgroundColor:"#00C851",data:this.state.data.map(function(t){return t.present})},{label:"Absent",backgroundColor:"#DC3545",data:this.state.data.map(function(t){return t.totalDay-t.present})}]}),r.a.createElement(j,{header:Object.getOwnPropertyNames(this.state.data[0]),data:this.state.data,onClickRow:function(){}})):r.a.createElement(O,null))}}]),e}(n.Component),I={lineHeight:"5px"},L=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[]},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location.state;fetch(E.url+"attendance/".concat(e.subjectCode,"/").concat(e.instructor)).then(function(t){return t.json()}).then(function(e){t.setState({data:e.map(function(t){return{"Attendance Date":t["Attendance Date"],"Present Student":t["Present Student"],"Absent Student":t["Total Student"]-t["Present Student"],"Total Student":t["Total Student"]}})})}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this,e=this.props.location.state;return this.state.data.length>0?r.a.createElement("div",{className:"container"},r.a.createElement("h6",{className:"text-left mt-3"},"Instructor: ",e.instructor," "),r.a.createElement("h6",{className:"text-left mt-3"},"Class: ",e.class,"    Year: ",e.year,"  Part: ",e.part," "),r.a.createElement("h6",{className:"text-left mt-3"},"Subject: ",e.subject," "),r.a.createElement("div",{className:"container-fluid border border-color-dark mt-5 w-80 h-50"},r.a.createElement(A.b,{width:600,height:600,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Total Student Present on Different Date",fontSize:25},legend:{display:!0,position:"right"},scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:2,max:this.state.data[0]["Total Student"]}}]}},data:{labels:this.state.data.map(function(t){return t["Attendance Date"]}),datasets:[{label:"Present Student",borderWidth:3,borderColor:"#0F0",data:this.state.data.map(function(t){return t["Present Student"]})},{label:"Absent Student",borderWidth:3,borderColor:"#F00",data:this.state.data.map(function(t){return t["Total Student"]-t["Present Student"]})}]}})),r.a.createElement(j,{header:Object.getOwnPropertyNames(this.state.data[0]),data:this.state.data,onClickRow:function(){}}),r.a.createElement(m.a,{color:"success",onClick:function(){return t.props.onClickRow(e)}},"View Report")):r.a.createElement("div",null)}}]),e}(n.Component),M=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={oldPassword:"",newPassword:"",msg:""},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(m.d,{className:"container-fluid"},r.a.createElement(m.q,null,r.a.createElement(m.b,{md:"6"},r.a.createElement("form",null,r.a.createElement("p",{className:"h3 text-center mb-4 mt-5"},"Change Password"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(m.k,{label:"Old password",icon:"lock",group:!0,type:"text",validate:!0,onChange:function(e){return t.setState({oldPassword:e.target.value})}}),r.a.createElement(m.k,{label:"New password",icon:"lock",group:!0,type:"text",validate:!0,onChange:function(e){return t.setState({newPassword:e.target.value})}})),r.a.createElement("div",{className:"text-center"},r.a.createElement(m.a,{color:"success",onClick:function(){fetch(E.url+"password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({old:t.state.oldPassword,new:t.state.newPassword})}).then(function(t){return t.json()}).then(function(e){t.setState({msg:e.msg})})}},"Change")),r.a.createElement("h5",null,this.state.msg)))))}}]),e}(n.Component);var z=function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(b.a,{path:"/",component:p}),r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(v,Object.assign({},t,{onClickRow:function(e){t.history.push({pathname:"/subjectReport",state:e})}}))}}),r.a.createElement(b.a,{path:"/classes",render:function(t){return r.a.createElement(k,Object.assign({},t,{onClickRow:function(e){console.log(e);var a=e.class;fetch(E.url+"subject/".concat(a)).then(function(t){return t.json()}).then(function(a){t.history.push({pathname:"/subjectList",state:[e,a]})}).catch(function(t){console.log(t)})}}))}}),r.a.createElement(b.a,{exact:!0,path:"/subjectList",render:function(t){return r.a.createElement(w,Object.assign({},t,{onClickRow:function(e){console.log(e),t.history.push({pathname:"/subjectReport",state:e})}}))}}),r.a.createElement(b.a,{path:"/instructor",render:function(t){return r.a.createElement(C,Object.assign({},t,{onClickRow:function(e){fetch(E.url+"subject/single/".concat(e.email)).then(function(t){return t.json()}).then(function(a){t.history.push({pathname:"/subjectList",state:[e,a]})}).catch(function(t){console.log(t)})}}))}}),r.a.createElement(b.a,{path:"/batch",render:function(t){return r.a.createElement(P,Object.assign({},t,{onClickRow:function(e){t.history.push({pathname:"/student",state:e})}}))}}),r.a.createElement(b.a,{path:"/student",component:D}),r.a.createElement(b.a,{path:"/form",component:M}),r.a.createElement(b.a,{path:"/subjectReport",render:function(t){return r.a.createElement(L,Object.assign({},t,{onClickRow:function(e){t.history.push({pathname:"/report",state:e})}}))}}),r.a.createElement(b.a,{path:"/report",render:function(t){return r.a.createElement(S,Object.assign({},t,{onClickRow:function(e){t.history.push({pathname:"/student",state:e})}}))}})))};a(181),a(182);s.a.render(r.a.createElement(z,null),document.getElementById("root"))},76:function(t,e,a){t.exports=a(183)},81:function(t,e,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.aaa7b02e.chunk.js.map